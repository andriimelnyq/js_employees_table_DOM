{"version":3,"sources":["scripts/main.js"],"names":["sortedASC","tHead","document","querySelector","tBody","tableHeads","querySelectorAll","addEventListener","e","indexOfColumn","indexOf","target","tableRows","children","sort","a","b","includes","innerText","replace","localeCompare","reverse","forEach","row","append","closest","activeRow","classList","remove","add","body","insertAdjacentHTML","form","preventDefault","data","FormData","dataObject","Object","fromEntries","entries","tr","createElement","name","length","pushNotification","position","age","key","td","parseInt","toLocaleString","input","value","title","description","type","message","messageTitle","messageDescription","dataset","qa","firstElementChild","after","setTimeout","text","className","tagName","cellIndex","select","focus","eventKeyDown","code","blur"],"mappings":"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","file":"main.b4a9d26e.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\n// Implemented event for table sorting;\n\nconst tHead = document.querySelector('thead');\nconst tBody = document.querySelector('tbody');\nconst tableHeads = [...document.querySelectorAll('th')];\nlet sortedASC;\n\ntHead.addEventListener('click', e => {\n  const indexOfColumn = tableHeads.indexOf(e.target);\n  const tableRows = [...tBody.children];\n\n  tableRows.sort((a, b) =>\n    (['Age', 'Salary'].includes(e.target.innerText))\n\n      ? (a.children[indexOfColumn].innerText.replace(/[^+\\d]/g, '')\n        - b.children[indexOfColumn].innerText.replace(/[^+\\d]/g, ''))\n\n      : (a.children[indexOfColumn].innerText\n        .localeCompare(b.children[indexOfColumn].innerText))\n  );\n\n  if (!sortedASC) {\n    sortedASC = !sortedASC;\n  } else {\n    tableRows.reverse();\n    sortedASC = !sortedASC;\n  }\n\n  tableRows.forEach(row => tBody.append(row));\n});\n\n// Added event for rows selecting;\n\ntBody.addEventListener('click', e => {\n  const row = e.target.closest('tr');\n  const activeRow = document.querySelector('.active');\n\n  if (activeRow) {\n    activeRow.classList.remove('active');\n  }\n\n  row.classList.add('active');\n});\n\n// Added form and notifications to the document;\n\nconst body = document.querySelector('body');\n\nbody.insertAdjacentHTML('beforeend',\n  `\n  <form class=\"new-employee-form\">\n    <label>Name:\n      <input name=\"name\" type=\"text\" data-qa=\"name\">\n    </label>\n\n    <label>Position:\n      <input name=\"position\" type=\"text\" data-qa=\"position\">\n    </label>\n\n    <label>Office:\n      <select name=\"office\" type=\"text\" data-qa=\"office\">\n        <option value=\"Tokyo\">Tokyo</option>\n        <option value=\"Singapore\">Singapore</option>\n        <option value=\"London\">London</option>\n        <option value=\"New York\">New York</option>\n        <option value=\"Edinburgh\">Edinburgh</option>\n        <option value=\"San Francisco\">San Francisco</option>\n      </select>\n    </label>\n\n    <label>Age:\n      <input name=\"age\" type=\"number\" data-qa=\"age\">\n    </label>\n\n    <label>Salary:\n      <input name=\"salary\" type=\"number\" data-qa=\"salary\">\n    </label>\n\n    <button type=\"submit\" value=\"Submit\">Save to table</button>\n  </form>\n  `);\n\nconst form = document.querySelector('form');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const dataObject = Object.fromEntries(data.entries());\n  const tr = document.createElement('tr');\n\n  if (dataObject.name.length < 4) {\n    pushNotification('Wrong Name!',\n      'Name length should have more than 4 letters.', 'error');\n\n    return;\n  }\n\n  if (dataObject.position.length < 4) {\n    pushNotification('Wrong Position!',\n      'Position length should have more than 4 letters.', 'error');\n\n    return;\n  }\n\n  if (dataObject.age < 18 || dataObject.age > 90) {\n    pushNotification('Wrong Age!',\n      'Employee should be adult and younger 90.', 'error');\n\n    return;\n  }\n\n  for (const key in dataObject) {\n    const td = document.createElement('td');\n\n    if (key === 'salary') {\n      td.innerText = '$' + parseInt(dataObject[key]).toLocaleString('en-US');\n    } else {\n      td.innerText = dataObject[key];\n    }\n\n    tr.append(td);\n  }\n\n  tBody.append(tr);\n  pushNotification('Success!', 'New employee added to the table.', 'success');\n\n  [...document.querySelectorAll('input')]\n    .forEach(input => (input.value = null));\n});\n\nconst pushNotification = (title, description, type) => {\n  const message = document.createElement('div');\n  const messageTitle = document.createElement('h2');\n  const messageDescription = document.createElement('p');\n\n  message.classList.add('notification', type);\n  message.dataset.qa = 'notification';\n  messageTitle.classList.add('title');\n\n  messageTitle.innerText = title;\n  messageDescription.innerText = description;\n\n  message.append(messageTitle, messageDescription);\n  document.body.firstElementChild.after(message);\n\n  setTimeout(() => {\n    message.remove();\n  }, 2000);\n};\n\n// Implemented editing of table cells by double-clicking on it;\n\ntBody.addEventListener('dblclick', e => {\n  const text = e.target.innerText;\n  let input = document.createElement('input');\n\n  e.target.innerText = null;\n  input.className = 'cell-input';\n  input.value = text;\n  input.type = 'text';\n\n  if (e.target.tagName !== 'TD') {\n    return;\n  }\n\n  if (e.target.cellIndex >= 3) {\n    input.type = 'number';\n  }\n\n  if (e.target.cellIndex === 2) {\n    const select = document.createElement('select');\n\n    select.dataset.qa = 'office';\n\n    select.insertAdjacentHTML('beforeend', `\n      <option value=\"Tokyo\">Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San Francisco\">San Francisco</option>`);\n\n    input = select;\n  }\n\n  e.target.append(input);\n  input.focus();\n\n  input.addEventListener('blur', () => {\n    if (input.value === '') {\n      e.target.innerText = text;\n    }\n\n    if (tableHeads[e.target.cellIndex].innerText === 'Name') {\n      if (input.value.length < 4) {\n        pushNotification('Wrong Name!',\n          'Name length should have more than 4 letters.', 'error');\n        e.target.innerText = text;\n\n        return;\n      }\n    }\n\n    if (tableHeads[e.target.cellIndex].innerText === 'Age') {\n      if (input.value < 18 || input.value > 90) {\n        pushNotification('Wrong Age!',\n          'Employee should be adult and younger 90.', 'error');\n        e.target.innerText = text;\n\n        return;\n      }\n\n      if (!parseInt(input.value)) {\n        pushNotification('Not a number!',\n          'Employee should be adult and younger 90.', 'error');\n        e.target.innerText = text;\n\n        return;\n      }\n    }\n\n    if (tableHeads[e.target.cellIndex].innerText === 'Salary') {\n      if (parseInt(input.value)) {\n        e.target.innerText = '$' + parseInt(input.value)\n          .toLocaleString('en-US');\n\n        return;\n      } else {\n        pushNotification('Not a number', 'Please add number', 'error');\n        e.target.innerText = text;\n\n        return;\n      }\n    }\n\n    e.target.innerText = input.value;\n    input.remove();\n  });\n\n  input.addEventListener('keydown', eventKeyDown => {\n    if (eventKeyDown.code === 'Enter') {\n      input.blur();\n    }\n  });\n});\n"]}